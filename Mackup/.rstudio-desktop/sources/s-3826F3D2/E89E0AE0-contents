% !TeX document-id = {b8936af7-7b6c-46c5-9376-055ed95a8803}
% !TeX TXS-program:compile = txs:///pdflatex/[--shell-escape]

% Copyright (C) 2021 by Maximilian Hoheiser <max.hoheiser@gmail.com>


%\documentclass[final]{vutinfth} 
\documentclass[final]{thesistu} 

% FONT  ==========================================================
\usepackage[]{helvet}				  %=
\renewcommand*\familydefault{\sfdefault} %% Only if the base font of the document is to be sans serif
\usepackage{lmodern}        % Use an extension of the original Computer Modern font to minimize the use of bitmapped letters.
\usepackage[T1]{fontenc}    % Determines font encoding of the output. Font packages have to be included before this line.
\usepackage[utf8]{inputenc} % Determines encoding of the input. All input files have to use UTF8 encoding.


\usepackage{fixltx2e}   % Provides fixes for several errors in LaTeX2e.
\usepackage{amsmath}    % Extended typesetting of mathematical expression.
\usepackage{amssymb}    % Provides a multitude of mathematical symbols.
\usepackage{mathtools}  % Further extensions of mathematical typesetting.
\usepackage{tabu}			% for nice tables
\usepackage{nicefrac}	% enables different fraction styles
\usepackage{microtype}  % Small-scale typographic enhancements.
\usepackage{enumitem}   % User control over the layout of lists (itemize, enumerate, description).
\usepackage{multirow}   % Allows table elements to span several rows.
\usepackage{booktabs}   % Improves the typesettings of tables.
\usepackage[binary-units=true]{siunitx}	%nice unit expression
\usepackage{lscape}     % Enable landscape to portrait switch
\usepackage{adjustbox}
\usepackage{float}
\usepackage{nag}       % Issues warnings when best practices in writing LaTeX documents are violated.
\usepackage{hyperref}  % Enables cross linking in the electronic document version. This package has to be included second to last.
\usepackage{xurl} %auto url folding at line end

\usepackage[english,noabbrev]{cleveref} %enables the prefix figure: for \cref
\usepackage{glossaries} % Enables the generation of glossaries and lists fo acronyms. This package has to be included last.


% modify captisons and subscaptins for figures ===========================
\usepackage[justification=raggedright, %raggedright for right aligned
					singlelinecheck=false,
					labelfont=bf,
					]{caption} % ,format=hang change the text format to italic of captions

\usepackage[justification=centering,
			textfont=it
			]{subcaption} % Allows the use of subfigures and enables their referencing.
			
%\usepackage[ruled,
%			linesnumbered,
%			algochapter
%			]{algorithm2e} % Enables the writing of pseudo code.



% code styling usw ===========================================
\usepackage{morewrites}
\usepackage[table]{xcolor}

\usepackage{tcolorbox}%[usenames,dvipsnames,table]
\tcbuselibrary{minted,skins}

\renewcommand{\theFancyVerbLine}{\sffamily \textcolor[gray]{0.60}{\tiny \oldstylenums{\arabic{FancyVerbLine}}}} % set color and font size of numbering beside code
% define code environment
\newtcblisting{python}[1][]{
	%parbox=false,
	listing engine=minted,
	colback=backcolour,
	colframe=backcolour,
	boxrule=0pt,
	listing only,
	%minted style=pygmentize,
	minted language=python3,
	minted options={linenos=true,
		numbersep=3mm,
		texcl=true,
		fontsize=\footnotesize,
		#1
	},
	left=6mm,
	enhanced,
	overlay={\begin{tcbclipinterior}\fill[numberbg] (frame.south west)
			rectangle ([xshift=6mm]frame.north west);\end{tcbclipinterior}}
}

\DeclareCaptionType{code}[Code Snippet][List of Code Snippet]
%\renewcaptionname{english}{\listcodename}{List of Code Snippets}

%New colors defined below
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{numberbg}{rgb}{0.90,0.90,0.88}
\definecolor{lightgray}{gray}{0.94}

%\usepackage{soul}
%\newcommand{\ctext}[1]{%
%	\begingroup
%	\sethlcolor{backcolour}%
%	\hl{#1}%
%	\endgroup
%}
\usepackage{soul}
\sethlcolor{numberbg}


% Numbering of figures and sections usw ===========================================
\numberwithin{figure}{chapter} %change numberation of figures from subsection number
\numberwithin{table}{chapter} %change numberation of tables from subsection number
\numberwithin{equation}{chapter} %change numberation of equations from subsection number
\usepackage[section]{placeins} %prevent float bevor section
\makeatletter
\renewcommand\@memmain@floats{%
	\counterwithin{figure}{chapter}
	\counterwithin{table}{chapter}
	\counterwithin{equation}{chapter}
}

\makeatother
\setsecnumdepth{subsubsection} % Enumerate subsections.
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}





% Graphics Pat =================================================================
\usepackage{subfiles} %allows that chapters are in separate txt files, and can be placed in a subfolder
%subfiles can be comppiled on their own

%\usepackage{graphicx}
%include images in the tex files, which can be in separate folders
%additional chapters must be added in the way {chapterX/graphics/}
\graphicspath{{./graphics/}
                {./04introduction/graphics/}
                {./05methods/graphics/}
                {./06resultsdata/graphics/}
                {./06resultssystem/graphics/}
                {./07discussion/graphics/}
                {./08apendix/graphics/}
                }
\DeclareGraphicsExtensions{.jpg, .png, .eps, .pdf} %defines the image extensions LaTeX searches for
\usepackage{mwe}


% bibliography  =========================================== backend=biber,
\usepackage[backend=biber,
					urldate=iso,
					date=iso,
					backref=true, %backlings to citation in text
					hyperref=true, %linking
					language=english,
					natbib=true, % allow citep
					style=science, 
					citestyle=authoryear,
					]{biblatex} %specifies the biblatex package to use for citations
\def\bibfont{\footnotesize{8}} % change bibliography font size
\setcounter{biburllcpenalty}{7000} % allow url linebreak in bibliography at normal character
\setcounter{biburlucpenalty}{8000}

\usepackage[autostyle]{csquotes} % enables better quotation styles for citation

\addbibresource{masterthesis.bib} %implements a bibliography from a supplied biblatex file, which must be in the main folder 


\usepackage[pagestyles]{titlesec}
\titleformat{\chapter}[display]{\normalfont\bfseries}{}{0pt}{\Huge}


% refernces
 \AtBeginDocument{%
	\crefname{code}{code snippet}{code snippets}%
}


%=====================================================================================================
%% Userimput

% Define convenience functions to use the author name and the thesis title in the PDF document properties.
\newcommand{\authorname}{Maximilian Hoheiser} % The author name without titles.
\newcommand{\thesistitle}{A Virtial-Reality System\\ for Head-Fixed Mice\\ based on the Iowa-Gamble-Task} % The title of the thesis. The English version should be used, if it exists.

% Set PDF document properties
\hypersetup{
	pdfpagelayout   = TwoPageRight,           % How the document is shown in PDF viewers (optional).
	linkbordercolor = {cyan},                % The color of the borders of boxes around crosslinks (optional).
	pdfauthor       = {\authorname},          % The author's name in the document properties (optional).
	pdftitle        = {\thesistitle},         % The document's title in the document properties (optional).
	%pdfsubject      = {Subject},              % The document's subject in the document properties (optional).
	%pdfkeywords     = {a, list, of, keywords} % The document's keywords in the document properties (optional).
}


\nonzeroparskip             % Create space between paragraphs (optional).
\setlength{\parindent}{0pt} % Remove paragraph identation (optional).

\makeindex      % Use an optional index.

% load glossary file
\input{glossary}
\makeglossaries % Use an optional glossary.
\glstocfalse   % Remove the glossaries from the table of contents.


%=====================================================================================================
%% Thesisdatainput

\setlogo{logo} %definde which eps file is used for the logo
\setheader{header} %define which eps file is used for the header

%Foter on the titlepage
\setunizipcode{A-1040}
\setunicity{Wien}
\setunistreet{Karlsplatz 14}
\setunitelnr{+43-1-58801-0}
\setuniwebsite{www.tuwien.ac.at}

% Set persons with 4 arguments:
%  {title before name}{name}{title after name}{gender}
%  where both titles are optional (i.e. can be given as empty brackets {}).
%  eg: \setauthor{Dr}{\authorname}{MSc}{male}
\setauthor{Bsc.}{\authorname}{}{male}
\setadvisor{Ao.Univ.Prof.i.R. Privatdoz. Dipl.-Ing. Dr.sc.med. Dr.techn. Dr.rer.nat.}{Frank Rattay}{}{male}
\setfirstassistant{Univ.-Prof. Mag. Dr.}{Thomas Klausberger}{}{male}
\setsecondassistant{Dipl.-Ing.}{Hugo Malagon-Vina}{PhD}{male}

% Required data.
\setaddress{Traklgasse 10/30/7 1190 Wien, Österreich}
\setregnumber{1229176}
\setdate{07}{2}{2021} % Set date with 3 arguments: {day}{month}{year}.
\settitle{\thesistitle}{\thesistitle} % Sets English and German version of the title (both can be English or German).
\setsubtitle{Standardised traing and in-vivo electrophysiology recording setups}{} % Sets English and German version of the subtitle (both can be English or German).

% Master:
\setthesis{master}
\setmasterdegree{dipl.} % dipl. / rer.nat. / rer.soc.oec. / master

% For bachelor and master:
\setlecture{}{}		% sets the lecture title {englisch title}{german title} under which the thesis is written
 \setcurriculum{Biomedical Engeneering}{Biomedical Engeneering} % Sets the English and German name of the curriculum.
\setuniversity{Technical University Vienna}{Technische Universität Wien} %Sets the Englisch and German name of the University
\setfaculty{PLACEHOLDER}{PLACEHOLDER} %Sets the Englisch and German name of the Faculty
\setinstitut{PLACEHOLDER}{PLACEHOLDER} %Sets the Englisch and German name of the Institut



% change left and right margins =====================================================
%\setlrmarginsandblock{2.5cm}{2.5cm}{*} % inner side + outer side
%\setulmarginsandblock{5cm}{2.5cm}{*}
%\checkandfixthelayout

\newcounter{PageNumberBeforeAppendix}%

%=====================================================================================================
%% Main Document
\begin{document}
\renewcommand*\familydefault{\sfdefault} %% Only if the base font of the document is to be sans serif

\frontmatter % Switches to roman numbering.

%\addtitlepage{naustrian} % German title page (not for dissertations at the PhD School).
%\addtitlepage{naustrian}
\addtitlepage{english} % English title page.
\addstatementpage

%include the chapter abstract 
\subfile{./01abstract/abstract.tex} %subfile for abstract
\subfile{./02acknowledgements/acknowledgements.tex} %subfile for abstract

% Select the language of the thesis, e.g., english or naustrian.
\selectlanguage{english}

% Add a table of contents (toc).
\tableofcontents* % Starred version, i.e., \tableofcontents*, removes the self-entry.
\clearpage
\listoffigures* % Starred version, i.e., \listoffigures*, removes the toc entry.
\listoftables* % Starred version, i.e., \listoftables*, removes the toc entry.
\listofcodes* % code snipped listings
%\renewenvironment{description}
%{\list{}{\labelwidth0pt\itemindent-\leftmargin
%		\parsep0pt\itemsep0pt\let\makelabel\descriptionlabel}}
%{\endlist}
\printglossary[title={List of Terms and Acronyms},type=main,nonumberlist]


% Switch to arabic numbering and start the enumeration of chapters in the table of content.
\mainmatter


\raggedbottom


\subfile{./03preface/preface.tex} 
\subfile{./04introduction/introduction.tex}
\subfile{./05methods/methods.tex}
\subfile{./06resultsdata/resultsdata.tex}
\subfile{./06resultssystem/resultssystem.tex}
\subfile{./07discussion/discussion.tex}

\newpage
\backmatter

% Add an index.
%\printindex

% Add a glossary.
%\printglossaries

%\bibliographystyle{alpha}
\twocolumn
\printbibliography{}

\setcounter{PageNumberBeforeAppendix}{\number\value{page}}%

\appendix
%\subfile{./messanleitung/messanleitung.tex} %chapter messanleitung is in a sepperate latex file, and can be compiled on its own

\end{document}